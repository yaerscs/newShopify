{%- liquid
  assign section_id = section.id
  assign heading = section.settings.heading
  assign accent_text = section.settings.accent_text
  assign subheading = section.settings.subheading
  assign use_theme_colors = section.settings.use_theme_colors
  
  # Color settings
  if use_theme_colors
    assign heading_color = settings.global_section_text_color | default: '#000000'
    assign subheading_color = settings.global_section_text_color | default: '#666666'
    assign accent_color = settings.global_section_accent_1_color | default: '#ff6b35'
    assign text_color = settings.global_section_text_color | default: '#333333'
    assign background_color = settings.global_section_background_color | default: '#ffffff'
    assign tab_active_color = settings.global_section_accent_1_color | default: '#ff6b35'
    assign tab_inactive_color = settings.global_section_text_color | default: '#333333'
    assign tab_active_bg = settings.global_section_accent_1_color | default: '#ff6b35'
    assign button_text_color = settings.global_section_background_color | default: '#ffffff'
    assign content_title_color = settings.global_section_text_color | default: '#333333'
    assign benefit_text_color = settings.global_section_text_color | default: '#333333'
    assign border_color = settings.global_section_text_color | default: '#e5e5e5'
  else
    assign heading_color = section.settings.heading_color | default: '#000000'
    assign subheading_color = section.settings.subheading_color | default: '#666666'
    assign accent_color = section.settings.accent_color | default: '#ff6b35'
    assign text_color = section.settings.text_color | default: '#333333'
    assign background_color = section.settings.background_color | default: '#ffffff'
    assign tab_active_color = section.settings.tab_active_color | default: '#ff6b35'
    assign tab_inactive_color = section.settings.tab_inactive_color | default: '#666666'
    assign tab_active_bg = section.settings.tab_active_bg | default: '#ff6b35'
    assign button_text_color = section.settings.button_text_color | default: '#ffffff'
    assign content_title_color = section.settings.content_title_color | default: '#333333'
    assign benefit_text_color = section.settings.benefit_text_color | default: '#333333'
    assign border_color = section.settings.border_color | default: '#e5e5e5'
  endif
  
  # Typography settings
  assign heading_font_size = section.settings.heading_font_size | default: 36
  assign subheading_font_size = section.settings.subheading_font_size | default: 18
  assign content_font_size = section.settings.content_font_size | default: 13
  assign content_title_font_size = section.settings.content_title_font_size | default: 20
  assign tab_font_size = section.settings.tab_font_size | default: 14
  assign benefit_font_size = section.settings.benefit_font_size | default: 16
  assign bullet_font_size = section.settings.bullet_font_size | default: 16
  
  # Layout settings
  assign section_padding_top = section.settings.section_padding_top | default: 60
  assign section_padding_bottom = section.settings.section_padding_bottom | default: 60
  assign content_max_width = section.settings.content_max_width | default: 1000
  assign tab_style = section.settings.tab_style | default: 'underline'
  assign mobile_full_width_images = section.settings.mobile_full_width_images | default: false
  assign tab_border_radius = section.settings.tab_border_radius | default: settings.buttons_radius | default: 0
  assign image_border_radius = section.settings.image_border_radius | default: 8
  assign mobile_image_text_gap = section.settings.mobile_image_text_gap | default: 20
  
  # Image size settings
  assign image_max_width = section.settings.image_max_width | default: 600
  assign image_with_text_width = section.settings.image_with_text_width | default: 400
  assign image_wrapper_width = section.settings.image_wrapper_width | default: 200
-%}

{% comment %} Google Fonts for accent text customization {% endcomment %}
{% if section.settings.accent_font_family == 'Georgia Pro' or section.settings.accent_font_family == 'Bodoni Moda' %}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  {% if section.settings.accent_font_family == 'Georgia Pro' %}
    <link href="https://fonts.googleapis.com/css2?family=Georgia+Pro:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap" rel="stylesheet">
  {% endif %}
  {% if section.settings.accent_font_family == 'Bodoni Moda' %}
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@0,6..96,400;0,6..96,500;0,6..96,600;0,6..96,700;1,6..96,400;1,6..96,500;1,6..96,600;1,6..96,700&display=swap" rel="stylesheet">
  {% endif %}
{% endif %}

<style>
  .content-tabs-{{ section_id }} {
    padding: {{ section_padding_top }}px 20px {{ section_padding_bottom }}px;
    background-color: {{ background_color }};
    color: {{ text_color }};
    font-family: var(--font-body-family);
    letter-spacing: var(--letter-spacing-body);
  }
  
  .content-tabs-container-{{ section_id }} {
    max-width: {{ content_max_width }}px;
    margin: 0 auto;
    width: 100%;
  }
  
  .content-tabs-heading-wrapper-{{ section_id }} {
    text-align: center;
    margin-bottom: 40px;
  }
  
  .content-tabs-heading-{{ section_id }} {
    font-size: {{ heading_font_size }}px;
    font-weight: var(--font-weight-bold);
    color: {{ heading_color }} !important;
    margin: 0;
    font-family: var(--font-heading-family);
    letter-spacing: var(--letter-spacing-heading);
    line-height: 1.2;
  }
  
  .content-tabs-heading-{{ section_id }} .accent {
    color: {{ accent_color }};
  }
  
  /* Enhanced accent text styling */
  .content-tabs-{{ section_id }} .accent,
  .content-tabs-{{ section_id }} .global-accent-text,
  .content-tabs-{{ section_id }} .custom-accent-text {
    {% if section.settings.use_accent_gradient %}
      background: linear-gradient({{ section.settings.accent_gradient_angle }}deg, {{ section.settings.accent_gradient_start_color }} 0%, {{ section.settings.accent_gradient_end_color }} 100%) !important;
      -webkit-background-clip: text !important;
      -webkit-text-fill-color: transparent !important;
      background-clip: text !important;
      color: transparent !important;
    {% else %}
      color: {{ accent_color }} !important;
    {% endif %}
    {% if section.settings.accent_font_family != 'inherit' %}
      {% if section.settings.accent_font_family == 'serif' %}
        font-family: serif !important;
      {% elsif section.settings.accent_font_family == 'Georgia Pro' %}
        font-family: 'Georgia Pro', Georgia, serif !important;
      {% elsif section.settings.accent_font_family == 'Bodoni Moda' %}
        font-family: 'Bodoni Moda', Georgia, serif !important;
      {% endif %}
    {% endif %}
    {% if section.settings.accent_font_style != 'normal' %}
      font-style: {{ section.settings.accent_font_style }} !important;
    {% endif %}
    {% if section.settings.accent_font_weight != 'inherit' %}
      font-weight: {{ section.settings.accent_font_weight }} !important;
    {% endif %}
    padding-right: 0px !important;
    display: inline-block !important;
  }
  
  .content-tabs-subheading-{{ section_id }} {
    font-size: {{ subheading_font_size | times: 0.9 }}px;
    margin: 8px 0 0 0;
    color: {{ subheading_color }};
  }
  
  .content-tabs-subheading-{{ section_id }} p {
    font-size: {{ subheading_font_size | times: 0.9 }}px !important;
    margin: 0 !important;
    color: {{ subheading_color }} !important;
    letter-spacing: var(--letter-spacing-body);
  }
  
  .tabs-navigation-{{ section_id }} {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: {% if tab_style == 'pills' %}12px{% else %}0{% endif %};
    margin-bottom: 50px;
    {% unless tab_style == 'pills' %}
    border-bottom: 1px solid {{ border_color }};
    {% endunless %}
  }
  
  .tab-button-{{ section_id }} {
    background: {% if tab_style == 'pills' %}transparent{% else %}none{% endif %};
    border: {% if tab_style == 'pills' %}1px solid {{ border_color }}{% else %}none{% endif %};
    padding: {% if tab_style == 'pills' %}12px 24px{% else %}16px 24px{% endif %};
    font-size: {{ tab_font_size }}px;
    font-weight: var(--font-weight-medium);
    color: {{ tab_inactive_color }};
    cursor: pointer;
    transition: all 0.3s ease;
    {% if tab_style == 'pills' %}
    border-radius: {{ tab_border_radius }}px;
    {% else %}
    border-bottom: 2px solid transparent;
    {% endif %}
    font-family: var(--font-body-family);
    letter-spacing: var(--letter-spacing-body);
    white-space: nowrap;
    position: relative;
  }
  
  .tab-button-{{ section_id }}:hover {
    color: {{ tab_active_color }};
    {% if tab_style == 'pills' %}
    border-color: {{ tab_active_color }};
    background-color: rgba({{ tab_active_color | color_extract: 'red' }}, {{ tab_active_color | color_extract: 'green' }}, {{ tab_active_color | color_extract: 'blue' }}, 0.1);
    {% endif %}
  }
  
  .tab-button-{{ section_id }}.active {
    color: {% if tab_style == 'pills' %}{{ button_text_color }}{% else %}{{ tab_active_color }}{% endif %};
    {% if tab_style == 'pills' %}
    background-color: {{ tab_active_bg }};
    border-color: {{ tab_active_bg }};
    {% else %}
    border-bottom-color: {{ tab_active_color }};
    {% endif %}
  }
  
  .tab-content-{{ section_id }} {
    display: none;
    animation: fadeIn 0.3s ease-in-out;
  }
  
  .tab-content-{{ section_id }}.active {
    display: block;
  }
  
  .tab-content-inner-{{ section_id }} {
    display: grid;
    gap: 40px;
  }
  
  .tab-content-inner-{{ section_id }}.layout-two-column {
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    align-items: flex-start;
  }
  
  .tab-content-inner-{{ section_id }}.layout-single-column {
    grid-template-columns: 1fr;
    max-width: 800px;
    margin: 0 auto;
  }
  
  .content-block-{{ section_id }} {
    padding: 0;
  }
  
  .content-block-title-{{ section_id }} {
    color: {{ content_title_color }} !important;
    font-size: {{ content_title_font_size }}px;
    margin-bottom: 12px;
    font-weight: var(--font-weight-bold) !important;
    line-height: 1.3;
    font-family: var(--font-body-family);
    letter-spacing: var(--letter-spacing-body);
  }
  
  .content-block-content-{{ section_id }} {
    font-size: {{ content_font_size }}px;
    line-height: 1.6;
    color: {{ text_color }};
  }
  
  .content-block-content-{{ section_id }} p {
    margin-bottom: 16px;
  }
  
  .content-block-content-{{ section_id }} strong {
    font-weight: var(--font-weight-semibold);
  }
  
  .content-image-{{ section_id }} {
    width: 100%;
    height: auto;
    border-radius: {{ image_border_radius }}px;
    margin-bottom: 4px;
  }
  
  .image-with-text-{{ section_id }} {
    display: flex;
    gap: 30px;
    align-items: flex-start;
  }
  
  .image-with-text-{{ section_id }} .image-wrapper {
    flex: 0 0 {{ image_wrapper_width }}px;
  }
  
  .image-with-text-{{ section_id }} .text-wrapper {
    flex: 1;
  }
  
  .bullet-list-{{ section_id }} {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  
  .bullet-item-{{ section_id }} {
    display: flex;
    align-items: flex-start;
    padding: 8px 0;
    gap: 12px;
  }
  
  .bullet-icon-{{ section_id }} {
    width: 20px;
    height: 20px;
    margin-top: 2px;
    color: {{ accent_color }};
    flex-shrink: 0;
  }
  
  .bullet-text-{{ section_id }} {
    font-size: {{ bullet_font_size }}px;
    line-height: 1.6;
    color: {{ benefit_text_color }};
  }
  
  .benefit-list-{{ section_id }} {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  
  .benefit-item-{{ section_id }} {
    display: flex;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px solid {{ border_color }};
  }
  
  .benefit-item-{{ section_id }}:last-child {
    border-bottom: none;
  }
  
  .benefit-icon-{{ section_id }} {
    width: 20px;
    height: 20px;
    margin-right: 16px;
    color: {{ accent_color }};
    flex-shrink: 0;
  }
  
  .benefit-text-{{ section_id }} {
    font-size: {{ benefit_font_size }}px;
    font-weight: var(--font-weight-medium);
    color: {{ benefit_text_color }};
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  /* Responsive Design */
  @media (max-width: 768px) {
    .content-tabs-{{ section_id }} {
      padding: {{ section_padding_top | divided_by: 1.5 }}px 16px {{ section_padding_bottom | divided_by: 1.5 }}px;
    }
    
    .content-tabs-heading-{{ section_id }} {
      font-size: {{ heading_font_size }}px;
    }
    
    .tabs-navigation-{{ section_id }} {
      overflow-x: auto;
      scrollbar-width: none;
      -ms-overflow-style: none;
      justify-content: flex-start;
      padding-bottom: 8px;
    }
    
    .tabs-navigation-{{ section_id }}::-webkit-scrollbar {
      display: none;
    }
    
    .tab-button-{{ section_id }} {
      padding: {% if tab_style == 'pills' %}7px 12px{% else %}10px 14px{% endif %};
      font-size: {{ tab_font_size | times: 0.7 }}px;
      min-width: max-content;
    }
    
    .tab-content-inner-{{ section_id }}.layout-two-column {
      grid-template-columns: 1fr;
      gap: 4px;
    }
    
    .content-block-title-{{ section_id }} {
      font-size: {{ content_title_font_size | times: 0.85 }}px;
      margin-bottom: 16px;
    }
    
    .content-block-content-{{ section_id }} {
      font-size: {{ content_font_size | times: 0.85 }}px;
    }
    
    .benefit-text-{{ section_id }}, .bullet-text-{{ section_id }} {
      font-size: {{ benefit_font_size | times: 0.85 }}px;
    }
    
    .benefit-icon-{{ section_id }}, .bullet-icon-{{ section_id }} {
      width: 16px;
      height: 16px;
    }
    
    .benefit-item-{{ section_id }}, .bullet-item-{{ section_id }} {
      padding: 10px 0;
    }
    
    .image-with-text-{{ section_id }} {
      flex-direction: column;
      gap: {{ mobile_image_text_gap }}px;
    }
    
    .image-with-text-{{ section_id }} .image-wrapper {
      flex: none;
    }
    
    /* Keep images at full size on mobile */
    .content-image-{{ section_id }} {
      width: 100%;
      height: auto;
    }
  }

  /* Mobile Styles */
  @media (max-width: 767px) {
    .container-{{ section_id }} {
      padding: 40px 20px;
    }
    
    .tabs-navigation-{{ section_id }} {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      width: 100%;
      margin-bottom: 30px;
      justify-content: stretch;
    }
    
    /* Handle odd number of tabs - center the last one */
    .tabs-navigation-{{ section_id }}.odd-tabs {
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto;
    }
    
    .tabs-navigation-{{ section_id }}.odd-tabs .tab-button-{{ section_id }}:last-child {
      grid-column: 1 / -1;
      justify-self: center;
      max-width: 200px;
    }
    
    .tab-button-{{ section_id }} {
      padding: {% if tab_style == 'pills' %}10px 16px{% else %}12px 16px{% endif %};
      font-size: {{ tab_font_size | times: 0.85 }}px;
      white-space: normal;
      text-align: center;
      line-height: 1.2;
    }
  }
  
  /* Keep images at full size on mobile */
  .content-image-{{ section_id }} {
    width: 100%;
    height: auto;
  }
  
  {% if mobile_full_width_images %}
  /* Full width images on mobile when enabled */
  @media (max-width: 767px) {
    .content-image-{{ section_id }} {
      width: 100vw;
      margin-left: calc(-50vw + 50%);
      margin-right: calc(-50vw + 50%);
    }
    
    .image-with-text-{{ section_id }} {
      width: 100vw;
      margin-left: calc(-50vw + 50%);
      margin-right: calc(-50vw + 50%);
      padding: 0 16px;
      box-sizing: border-box;
    }
    
    .image-with-text-{{ section_id }} .content-image-{{ section_id }} {
      margin-left: 0;
      margin-right: 0;
      width: 100%;
    }
  }
  {% endif %}
</style>

<section class="content-tabs-{{ section_id }}">
  <div class="content-tabs-container-{{ section_id }}">
    {% if heading != blank or accent_text != blank %}
      <div class="content-tabs-heading-wrapper-{{ section_id }}">
        {% if heading != blank or accent_text != blank %}
          <h2 class="content-tabs-heading-{{ section_id }}">
            {% if heading != blank %}{{ heading }}{% endif %}{% if accent_text != blank %} <span class="accent">{{ accent_text }}</span>{% endif %}
          </h2>
        {% endif %}
        {% if subheading != blank %}
          <div class="content-tabs-subheading-{{ section_id }}">{{ subheading }}</div>
        {% endif %}
      </div>
    {% endif %}
    
    <div class="tabs-navigation-{{ section_id }}">
      {% for block in section.blocks %}
        <button 
          class="tab-button-{{ section_id }} {% if forloop.first %}active{% endif %}"
          data-tab="tab-{{ section_id }}-{{ forloop.index }}"
        >
          {% if block.settings.tab_title != blank %}
            {{ block.settings.tab_title }}
          {% else %}
            Tab {{ forloop.index }}
          {% endif %}
        </button>
      {% endfor %}
    </div>
    
    <div class="tabs-content-{{ section_id }}">
      {% for block in section.blocks %}
        {% assign layout_class = 'layout-single-column' %}
        {% if block.settings.content_layout == 'two_column' %}
          {% assign layout_class = 'layout-two-column' %}
        {% endif %}
        
        <div 
          id="tab-{{ section_id }}-{{ forloop.index }}" 
          class="tab-content-{{ section_id }} {% if forloop.first %}active{% endif %}"
        >
          <div class="tab-content-inner-{{ section_id }} {{ layout_class }}">
            
            {% comment %} First Content Block {% endcomment %}
            {% if block.settings.first_content_type != 'none' %}
              <div class="content-block-{{ section_id }}">
                {% if block.settings.first_title != blank %}
                  <h3 class="content-block-title-{{ section_id }}">{{ block.settings.first_title }}</h3>
                {% endif %}
                
                <div class="content-block-content-{{ section_id }}">
                  {% case block.settings.first_content_type %}
                    {% when 'text' %}
                      {{ block.settings.first_text_content }}
                    
                    {% when 'image' %}
                      {% if block.settings.first_image != blank %}
                        <img src="{{ block.settings.first_image | image_url: width: image_max_width }}" 
                             alt="{{ block.settings.first_image.alt | escape }}"
                             class="content-image-{{ section_id }}"
                             loading="lazy">
                      {% endif %}
                    
                    {% when 'image_with_text' %}
                      <div class="image-with-text-{{ section_id }}">
                        {% if block.settings.first_image != blank %}
                          <div class="image-wrapper">
                            <img src="{{ block.settings.first_image | image_url: width: image_with_text_width }}" 
                                 alt="{{ block.settings.first_image.alt | escape }}"
                                 class="content-image-{{ section_id }}"
                                 loading="lazy">
                          </div>
                        {% endif %}
                        <div class="text-wrapper">
                          {{ block.settings.first_text_content }}
                        </div>
                      </div>
                    
                    {% when 'bullet_points' %}
                      {% if block.settings.first_bullet_points != blank %}
                        <ul class="bullet-list-{{ section_id }}">
                          {% assign bullets = block.settings.first_bullet_points | split: ',' %}
                          {% for bullet in bullets %}
                            <li class="bullet-item-{{ section_id }}">
                              <svg class="bullet-icon-{{ section_id }}" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/>
                              </svg>
                              <span class="bullet-text-{{ section_id }}">{{ bullet | strip }}</span>
                            </li>
                          {% endfor %}
                        </ul>
                      {% endif %}
                    
                    {% when 'benefits_list' %}
                      {% if block.settings.first_benefits != blank %}
                        <ul class="benefit-list-{{ section_id }}">
                          {% assign benefits = block.settings.first_benefits | split: ',' %}
                          {% for benefit in benefits %}
                            <li class="benefit-item-{{ section_id }}">
                              <svg class="benefit-icon-{{ section_id }}" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
                              </svg>
                              <span class="benefit-text-{{ section_id }}">{{ benefit | strip }}</span>
                            </li>
                          {% endfor %}
                        </ul>
                      {% endif %}
                  {% endcase %}
                </div>
              </div>
            {% endif %}
            
            {% comment %} Second Content Block (for two-column layout) {% endcomment %}
            {% if block.settings.content_layout == 'two_column' and block.settings.second_content_type != 'none' %}
              <div class="content-block-{{ section_id }}">
                {% if block.settings.second_title != blank %}
                  <h3 class="content-block-title-{{ section_id }}">{{ block.settings.second_title }}</h3>
                {% endif %}
                
                <div class="content-block-content-{{ section_id }}">
                  {% case block.settings.second_content_type %}
                    {% when 'text' %}
                      {{ block.settings.second_text_content }}
                    
                    {% when 'image' %}
                      {% if block.settings.second_image != blank %}
                        <img src="{{ block.settings.second_image | image_url: width: image_max_width }}" 
                             alt="{{ block.settings.second_image.alt | escape }}"
                             class="content-image-{{ section_id }}"
                             loading="lazy">
                      {% endif %}
                    
                    {% when 'image_with_text' %}
                      <div class="image-with-text-{{ section_id }}">
                        {% if block.settings.second_image != blank %}
                          <div class="image-wrapper">
                            <img src="{{ block.settings.second_image | image_url: width: image_with_text_width }}" 
                                 alt="{{ block.settings.second_image.alt | escape }}"
                                 class="content-image-{{ section_id }}"
                                 loading="lazy">
                          </div>
                        {% endif %}
                        <div class="text-wrapper">
                          {{ block.settings.second_text_content }}
                        </div>
                      </div>
                    
                    {% when 'bullet_points' %}
                      {% if block.settings.second_bullet_points != blank %}
                        <ul class="bullet-list-{{ section_id }}">
                          {% assign bullets = block.settings.second_bullet_points | split: ',' %}
                          {% for bullet in bullets %}
                            <li class="bullet-item-{{ section_id }}">
                              <svg class="bullet-icon-{{ section_id }}" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/>
                              </svg>
                              <span class="bullet-text-{{ section_id }}">{{ bullet | strip }}</span>
                            </li>
                          {% endfor %}
                        </ul>
                      {% endif %}
                    
                    {% when 'benefits_list' %}
                      {% if block.settings.second_benefits != blank %}
                        <ul class="benefit-list-{{ section_id }}">
                          {% assign benefits = block.settings.second_benefits | split: ',' %}
                          {% for benefit in benefits %}
                            <li class="benefit-item-{{ section_id }}">
                              <svg class="benefit-icon-{{ section_id }}" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
                              </svg>
                              <span class="benefit-text-{{ section_id }}">{{ benefit | strip }}</span>
                            </li>
                          {% endfor %}
                        </ul>
                      {% endif %}
                  {% endcase %}
                </div>
              </div>
            {% endif %}
            
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Find all tab buttons in this section
    const sectionElement = document.querySelector('.content-tabs-{{ section_id }}');
    if (!sectionElement) return;
    
    const tabButtons = sectionElement.querySelectorAll('.tab-button-{{ section_id }}');
    const tabContents = sectionElement.querySelectorAll('.tab-content-{{ section_id }}');
    const tabsNavigation = sectionElement.querySelector('.tabs-navigation-{{ section_id }}');
    
    // Check if we have an odd number of tabs and add class for mobile styling
    if (tabButtons.length % 2 !== 0) {
      tabsNavigation.classList.add('odd-tabs');
    }
    
    // Add click event listeners to all tab buttons
    tabButtons.forEach(function(button, index) {
      button.addEventListener('click', function(event) {
        event.preventDefault();
        
        // Remove active class from all tabs and content
        tabButtons.forEach(function(btn) {
          btn.classList.remove('active');
        });
        tabContents.forEach(function(content) {
          content.classList.remove('active');
        });
        
        // Add active class to clicked tab and corresponding content
        button.classList.add('active');
        if (tabContents[index]) {
          tabContents[index].classList.add('active');
        }
      });
    });
  });
</script>

{% schema %}
{
  "name": "Content Tabs",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Discover Our Features",
      "info": "Main heading text"
    },
    {
      "type": "text",
      "id": "accent_text",
      "label": "Accent Text",
      "default": "and Benefits",
      "info": "This text will appear in the accent color after the main heading"
    },
    {
      "type": "richtext",
      "id": "subheading",
      "label": "Subheading",
      "default": "<p>Learn more about what makes our products and services unique.</p>",
      "info": "Optional subheading that appears below the main heading"
    },
    {
      "type": "header",
      "content": "Tab Style"
    },
    {
      "type": "select",
      "id": "tab_style",
      "label": "Tab style",
      "options": [
        {
          "value": "underline",
          "label": "Underline"
        },
        {
          "value": "pills",
          "label": "Pills/Buttons"
        }
      ],
      "default": "pills"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "checkbox",
      "id": "use_theme_colors",
      "label": "Use theme colors",
      "default": true,
      "info": "When checked, uses global theme colors. When unchecked, uses custom colors below."
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Subheading color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent color",
      "default": "#ff6b35"
    },
    {
      "type": "header",
      "content": "Accent Text Font Settings"
    },
    {
      "type": "checkbox",
      "id": "use_accent_gradient",
      "label": "Use Accent Gradient",
      "default": false,
      "info": "Apply gradient effect to the accent text"
    },
    {
      "type": "color",
      "id": "accent_gradient_start_color",
      "label": "Accent Gradient Start Color",
      "default": "#EF4A65"
    },
    {
      "type": "color",
      "id": "accent_gradient_end_color",
      "label": "Accent Gradient End Color",
      "default": "#FF6B9D"
    },
    {
      "type": "range",
      "id": "accent_gradient_angle",
      "min": 0,
      "max": 360,
      "step": 5,
      "unit": "deg",
      "label": "Accent Gradient Angle",
      "default": 45
    },
    {
      "type": "select",
      "id": "accent_font_family",
      "label": "Accent Text Font Family",
      "options": [
        {
          "value": "inherit",
          "label": "Default (Inherit)"
        },
        {
          "value": "serif",
          "label": "Serif"
        },
        {
          "value": "Georgia Pro",
          "label": "Georgia Pro"
        },
        {
          "value": "Bodoni Moda",
          "label": "Bodoni Moda"
        }
      ],
      "default": "inherit",
      "info": "Choose a custom font family for the accent text"
    },
    {
      "type": "select",
      "id": "accent_font_style",
      "label": "Accent Text Font Style",
      "options": [
        {
          "value": "normal",
          "label": "Normal"
        },
        {
          "value": "italic",
          "label": "Italic"
        }
      ],
      "default": "normal",
      "info": "Choose the font style for the accent text"
    },
    {
      "type": "select",
      "id": "accent_font_weight",
      "label": "Accent Text Font Weight",
      "options": [
        {
          "value": "inherit",
          "label": "Default (Inherit)"
        },
        {
          "value": "300",
          "label": "Light (300)"
        },
        {
          "value": "400",
          "label": "Normal (400)"
        },
        {
          "value": "500",
          "label": "Medium (500)"
        },
        {
          "value": "600",
          "label": "Semi Bold (600)"
        },
        {
          "value": "700",
          "label": "Bold (700)"
        },
        {
          "value": "800",
          "label": "Extra Bold (800)"
        },
        {
          "value": "900",
          "label": "Black (900)"
        }
      ],
      "default": "inherit",
      "info": "Choose the font weight (boldness) for the accent text"
    },
    {
      "type": "color",
      "id": "text_color", 
      "label": "Text color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "tab_active_color",
      "label": "Active tab text color",
      "default": "#ff6b35"
    },
    {
      "type": "color",
      "id": "tab_inactive_color",
      "label": "Inactive tab color", 
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "tab_active_bg",
      "label": "Active tab background (for pill style)",
      "default": "#ff6b35"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Active tab text color (for pill style)",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "content_title_color",
      "label": "Content block title color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "benefit_text_color",
      "label": "Benefit/bullet text color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border color",
      "default": "#e5e5e5"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "heading_font_size",
      "min": 24,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Heading font size",
      "default": 36
    },
    {
      "type": "range",
      "id": "subheading_font_size",
      "min": 10,
      "max": 28,
      "step": 1,
      "unit": "px",
      "label": "Subheading font size",
      "default": 18
    },
    {
      "type": "range",
      "id": "content_font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Content font size",
      "default": 13
    },
    {
      "type": "range",
      "id": "content_title_font_size",
      "min": 14,
      "max": 32,
      "step": 1,
      "unit": "px",
      "label": "Content block title font size",
      "default": 20
    },
    {
      "type": "range",
      "id": "tab_font_size",
      "min": 10,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Tab font size",
      "default": 14
    },
    {
      "type": "range",
      "id": "benefit_font_size",
      "min": 12,
      "max": 22,
      "step": 1,
      "unit": "px",
      "label": "Benefit list font size",
      "default": 16
    },
    {
      "type": "range",
      "id": "bullet_font_size",
      "min": 12,
      "max": 22,
      "step": 1,
      "unit": "px",
      "label": "Bullet point font size",
      "default": 16
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "min": 0,
      "max": 120,
      "step": 5,
      "unit": "px",
      "label": "Section top padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "min": 0,
      "max": 120,
      "step": 5,
      "unit": "px",
      "label": "Section bottom padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "content_max_width",
      "min": 600,
      "max": 1400,
      "step": 50,
      "unit": "px",
      "label": "Content maximum width",
      "default": 1000
    },
    {
      "type": "range",
      "id": "image_max_width",
      "min": 200,
      "max": 1000,
      "step": 50,
      "unit": "px",
      "label": "Regular image max width",
      "default": 600
    },
    {
      "type": "range",
      "id": "image_with_text_width",
      "min": 200,
      "max": 1000,
      "step": 50,
      "unit": "px",
      "label": "Image with text image width",
      "default": 400
    },
    {
      "type": "range",
      "id": "image_wrapper_width",
      "min": 100,
      "max": 400,
      "step": 50,
      "unit": "px",
      "label": "Image wrapper width",
      "default": 200
    },
    {
      "type": "checkbox",
      "id": "mobile_full_width_images",
      "label": "Mobile full width images",
      "default": false,
      "info": "When checked, images will be full width on mobile devices"
    },
    {
      "type": "range",
      "id": "tab_border_radius",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Tab border radius",
      "default": 0,
      "info": "Border radius for pill-style tabs. Uses global button radius by default."
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Image border radius",
      "default": 8,
      "info": "Border radius for all images within the content tabs"
    },
    {
      "type": "range",
      "id": "mobile_image_text_gap",
      "min": 10,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Mobile image-with-text gap",
      "default": 20,
      "info": "Gap between image and text on mobile devices"
    }
  ],
  "blocks": [
    {
      "type": "tab",
      "name": "Tab",
      "settings": [
        {
          "type": "text",
          "id": "tab_title",
          "label": "Tab Title",
          "default": "Feature One"
        },
        {
          "type": "header",
          "content": "Layout"
        },
        {
          "type": "select",
          "id": "content_layout",
          "label": "Content layout",
          "options": [
            {
              "value": "single_column",
              "label": "Single column"
            },
            {
              "value": "two_column",
              "label": "Two columns"
            }
          ],
          "default": "two_column"
        },
        {
          "type": "header",
          "content": "First Content Block"
        },
        {
          "type": "select",
          "id": "first_content_type",
          "label": "First content type",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "text",
              "label": "Rich text"
            },
            {
              "value": "image",
              "label": "Image only"
            },
            {
              "value": "image_with_text",
              "label": "Image with text"
            },
            {
              "value": "bullet_points",
              "label": "Bullet points"
            },
            {
              "value": "benefits_list",
              "label": "Benefits list (checkmarks)"
            }
          ],
          "default": "text"
        },
        {
          "type": "text",
          "id": "first_title",
          "label": "First section title",
          "default": "About This Feature"
        },
        {
          "type": "richtext",
          "id": "first_text_content",
          "label": "First section text content",
          "default": "<p>This is where you can describe the key features and benefits of your product or service. <strong>Highlight important</strong> information and <strong>key benefits</strong> that matter most to your customers.</p>"
        },
        {
          "type": "image_picker",
          "id": "first_image",
          "label": "First section image"
        },
        {
          "type": "textarea",
          "id": "first_bullet_points",
          "label": "First section bullet points (comma-separated)",
          "info": "Enter points separated by commas"
        },
        {
          "type": "textarea",
          "id": "first_benefits",
          "label": "First section benefits (comma-separated)",
          "info": "Enter benefits separated by commas for checkmark list"
        },
        {
          "type": "header",
          "content": "Second Content Block (Two-column only)"
        },
        {
          "type": "select",
          "id": "second_content_type",
          "label": "Second content type",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "text",
              "label": "Rich text"
            },
            {
              "value": "image",
              "label": "Image only"
            },
            {
              "value": "image_with_text",
              "label": "Image with text"
            },
            {
              "value": "bullet_points",
              "label": "Bullet points"
            },
            {
              "value": "benefits_list",
              "label": "Benefits list (checkmarks)"
            }
          ],
          "default": "benefits_list"
        },
        {
          "type": "text",
          "id": "second_title",
          "label": "Second section title",
          "default": "Key Benefits"
        },
        {
          "type": "richtext",
          "id": "second_text_content",
          "label": "Second section text content"
        },
        {
          "type": "image_picker",
          "id": "second_image",
          "label": "Second section image"
        },
        {
          "type": "textarea",
          "id": "second_bullet_points",
          "label": "Second section bullet points (comma-separated)",
          "info": "Enter points separated by commas"
        },
        {
          "type": "textarea",
          "id": "second_benefits",
          "label": "Second section benefits (comma-separated)",
          "default": "Improves user experience, Saves time and effort, Provides excellent value",
          "info": "Enter benefits separated by commas for checkmark list"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Content Tabs",
      "blocks": [
        {
          "type": "tab",
          "settings": {
            "tab_title": "Feature One",
            "content_layout": "two_column",
            "first_content_type": "text",
            "first_title": "About This Feature",
            "first_text_content": "<p>This is where you can describe the key features and benefits of your product or service. <strong>Highlight important</strong> information and <strong>key benefits</strong> that matter most to your customers.</p>",
            "second_content_type": "benefits_list",
            "second_title": "Key Benefits",
            "second_benefits": "Improves user experience, Saves time and effort, Provides excellent value"
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "Feature Two",
            "content_layout": "two_column",
            "first_content_type": "text",
            "first_title": "About This Feature",
            "first_text_content": "<p>This is where you can describe the key features and benefits of your product or service. <strong>Highlight important</strong> information and <strong>key benefits</strong> that matter most to your customers.</p>",
            "second_content_type": "benefits_list",
            "second_title": "Key Benefits",
            "second_benefits": "Easy to use interface, Professional results, Great customer support"
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "Feature Three",
            "content_layout": "two_column",
            "first_content_type": "text",
            "first_title": "About This Feature",
            "first_text_content": "<p>This is where you can describe the key features and benefits of your product or service. <strong>Highlight important</strong> information and <strong>key benefits</strong> that matter most to your customers.</p>",
            "second_content_type": "benefits_list",
            "second_title": "Key Benefits",
            "second_benefits": "Fast implementation, Reliable performance, Cost-effective solution"
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "Additional Info",
            "content_layout": "single_column",
            "first_content_type": "bullet_points",
            "first_title": "Important Details",
            "first_bullet_points": "Quick and easy setup process, Compatible with existing systems, Comprehensive documentation included, 24/7 customer support available, Regular updates and improvements"
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "Getting Started",
            "content_layout": "two_column",
            "first_content_type": "text",
            "first_title": "About This Feature",
            "first_text_content": "<p>This is where you can describe the key features and benefits of your product or service. <strong>Highlight important</strong> information and <strong>key benefits</strong> that matter most to your customers.</p>",
            "second_content_type": "benefits_list",
            "second_title": "Key Benefits",
            "second_benefits": "Simple onboarding process, Immediate results, Ongoing support"
          }
        }
      ]
    }
  ]
}
{% endschema %} 