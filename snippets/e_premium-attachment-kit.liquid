{{ 'premium-attachment-kit.css' | asset_url | stylesheet_tag }}

<div class="premium-attachment-kit" 
     style="
       --kit-bg-color: {% if use_theme_colors %}{{ settings.global_section_background_color }}{% else %}{{ background_color | default: '#fef7f7' }}{% endif %};
       --kit-border-color: {% if use_theme_colors %}{{ settings.global_section_accent_1_color }}{% else %}{{ border_color | default: '#f87171' }}{% endif %};
       --kit-text-color: {% if use_theme_colors %}{{ settings.global_section_text_color }}{% else %}{{ text_color | default: '#374151' }}{% endif %};
       --kit-header-color: {% if use_theme_colors %}{{ settings.global_section_text_color }}{% else %}{{ header_color | default: '#111827' }}{% endif %};
       --kit-free-bg: {% if use_theme_colors %}{{ settings.global_section_accent_1_color }}{% else %}{{ free_badge_bg | default: '#dc2626' }}{% endif %};
       --kit-free-text: {% if use_theme_colors %}{{ settings.global_section_background_color }}{% else %}{{ free_badge_text_color | default: '#ffffff' }}{% endif %};
       --kit-item-bg: {% if use_theme_colors %}{{ settings.global_section_background_color }}{% else %}{{ item_background_color | default: '#ffffff' }}{% endif %};
       --kit-item-count-color: {% if use_theme_colors %}{{ settings.global_section_text_color | color_lighten: 30 }}{% else %}{{ item_count_color | default: '#6b7280' }}{% endif %};
       --kit-item-radius: {{ item_border_radius | default: 6 }}px;
       --kit-badge-icon-size: {{ badge_icon_size | default: 12 }}px;
       --kit-original-price-color: {% if use_theme_colors %}{{ settings.global_section_text_color | color_lighten: 40 }}{% else %}#9ca3af{% endif %};
       --kit-compare-price-color: {% if use_theme_colors %}{{ settings.global_section_text_color | color_lighten: 40 }}{% else %}#9ca3af{% endif %};
       --kit-item-border-color: {% if use_theme_colors %}{{ settings.global_section_text_color | color_lighten: 70 }}{% else %}rgba(243, 244, 246, 0.8){% endif %};
     "
     {{ block.shopify_attributes }}>
  
  <!-- Header -->
  <div class="kit-header">
    <div class="kit-header-left">
      {%- if title != blank -%}
        <div class="kit-title-row">
          <h3 class="kit-title" style="color: {% if use_theme_colors %}{{ settings.global_section_text_color }}{% else %}{{ header_color | default: '#111827' }}{% endif %} !important;">{{ title }}</h3>
          {%- if show_item_count -%}
            {%- assign item_count = 0 -%}
            {%- for i in (1..10) -%}
              {%- assign item_name_var = 'item_' | append: i | append: '_name' -%}
              {%- if item_name_var != blank -%}
                {%- case i -%}
                  {%- when 1 -%}{%- if item_1_name != blank -%}{%- assign item_count = item_count | plus: 1 -%}{%- endif -%}
                  {%- when 2 -%}{%- if item_2_name != blank -%}{%- assign item_count = item_count | plus: 1 -%}{%- endif -%}
                  {%- when 3 -%}{%- if item_3_name != blank -%}{%- assign item_count = item_count | plus: 1 -%}{%- endif -%}
                  {%- when 4 -%}{%- if item_4_name != blank -%}{%- assign item_count = item_count | plus: 1 -%}{%- endif -%}
                  {%- when 5 -%}{%- if item_5_name != blank -%}{%- assign item_count = item_count | plus: 1 -%}{%- endif -%}
                  {%- when 6 -%}{%- if item_6_name != blank -%}{%- assign item_count = item_count | plus: 1 -%}{%- endif -%}
                  {%- when 7 -%}{%- if item_7_name != blank -%}{%- assign item_count = item_count | plus: 1 -%}{%- endif -%}
                  {%- when 8 -%}{%- if item_8_name != blank -%}{%- assign item_count = item_count | plus: 1 -%}{%- endif -%}
                  {%- when 9 -%}{%- if item_9_name != blank -%}{%- assign item_count = item_count | plus: 1 -%}{%- endif -%}
                  {%- when 10 -%}{%- if item_10_name != blank -%}{%- assign item_count = item_count | plus: 1 -%}{%- endif -%}
                {%- endcase -%}
              {%- endif -%}
            {%- endfor -%}
            <span class="kit-item-count">({{ item_count }} items)</span>
          {%- endif -%}
        </div>
      {%- endif -%}
    </div>
    
    <div class="kit-price">
      {%- if original_price != blank -%}
        {%- assign original_price_cents = original_price | times: 100 -%}
        <span class="original-price">
          {{ original_price_cents | money }}
        </span>
      {%- endif -%}
      
      {% if free_badge_text != blank %}
        <span class="free-badge">
          {% if show_badge_icon %}
            {% case badge_icon_type %}
              {% when 'gift' %}
                <svg class="gift-icon" viewBox="0 0 32 32" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M5 11c0-1 1-2 2-2h18c1 0 2 1 2 2v4h-2v10c0 1-1 2-2 2H9c-1 0-2-1-2-2V15H5v-4z"/>
                  <path d="M7 15h18M16 9v18M16 9c-1.333-2.833-4.1-7.4-6.5-5-2.4 2.4 3 5 6.5 5zM16 9c0-4.5 4.5-7.5 6.5-5.5C25 6 20 9 16 9z"/>
                </svg>
              {% when 'custom_svg' %}
                {% if custom_badge_svg != blank %}
                  <div class="custom-icon">{{ custom_badge_svg }}</div>
                {% endif %}
              {% when 'custom_image' %}
                {% if custom_badge_image != blank %}
                  <img class="custom-icon" src="{{ custom_badge_image | image_url: width: 60 }}" alt="Badge icon" loading="lazy">
                {% endif %}
            {% endcase %}
          {% endif %}
          {{ free_badge_text }}
        </span>
      {% endif %}
    </div>
  </div>

  <!-- Items List -->
  <ul class="kit-items">
    {%- for i in (1..10) -%}
      {%- case i -%}
        {%- when 1 -%}
          {%- assign current_name = item_1_name -%}
          {%- assign current_price = item_1_price -%}
          {%- assign current_compare_price = item_1_compare_price -%}
          {%- assign current_icon = item_1_icon -%}
        {%- when 2 -%}
          {%- assign current_name = item_2_name -%}
          {%- assign current_price = item_2_price -%}
          {%- assign current_compare_price = item_2_compare_price -%}
          {%- assign current_icon = item_2_icon -%}
        {%- when 3 -%}
          {%- assign current_name = item_3_name -%}
          {%- assign current_price = item_3_price -%}
          {%- assign current_compare_price = item_3_compare_price -%}
          {%- assign current_icon = item_3_icon -%}
        {%- when 4 -%}
          {%- assign current_name = item_4_name -%}
          {%- assign current_price = item_4_price -%}
          {%- assign current_compare_price = item_4_compare_price -%}
          {%- assign current_icon = item_4_icon -%}
        {%- when 5 -%}
          {%- assign current_name = item_5_name -%}
          {%- assign current_price = item_5_price -%}
          {%- assign current_compare_price = item_5_compare_price -%}
          {%- assign current_icon = item_5_icon -%}
        {%- when 6 -%}
          {%- assign current_name = item_6_name -%}
          {%- assign current_price = item_6_price -%}
          {%- assign current_compare_price = item_6_compare_price -%}
          {%- assign current_icon = item_6_icon -%}
        {%- when 7 -%}
          {%- assign current_name = item_7_name -%}
          {%- assign current_price = item_7_price -%}
          {%- assign current_compare_price = item_7_compare_price -%}
          {%- assign current_icon = item_7_icon -%}
        {%- when 8 -%}
          {%- assign current_name = item_8_name -%}
          {%- assign current_price = item_8_price -%}
          {%- assign current_compare_price = item_8_compare_price -%}
          {%- assign current_icon = item_8_icon -%}
        {%- when 9 -%}
          {%- assign current_name = item_9_name -%}
          {%- assign current_price = item_9_price -%}
          {%- assign current_compare_price = item_9_compare_price -%}
          {%- assign current_icon = item_9_icon -%}
        {%- when 10 -%}
          {%- assign current_name = item_10_name -%}
          {%- assign current_price = item_10_price -%}
          {%- assign current_compare_price = item_10_compare_price -%}
          {%- assign current_icon = item_10_icon -%}
      {%- endcase -%}
      
      {%- if current_name != blank -%}
        <li class="kit-item">
          <div class="item-icon">
            {%- if current_icon != blank -%}
              <img src="{{ current_icon | image_url: width: 84 }}" 
                   alt="{{ current_name }}" 
                   width="32" 
                   height="32">
            {%- else -%}
              <div class="placeholder-icon">{{ i }}</div>
            {%- endif -%}
          </div>
          <div class="item-details">
            <p class="item-name">{{ current_name }}</p>
            <div class="item-pricing">
              {%- if current_compare_price != blank -%}
                {%- assign item_compare_price_cents = current_compare_price | times: 100 -%}
                <span class="item-compare-price">
                  {{ item_compare_price_cents | money }}
                </span>
              {%- endif -%}
              {%- if current_price != blank -%}
                {%- assign item_price_cents = current_price | times: 100 -%}
                <span class="item-price">
                  {{ item_price_cents | money }}
                </span>
              {%- endif -%}
            </div>
          </div>
        </li>
      {%- endif -%}
    {%- endfor -%}
  </ul>
</div> 